[{"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\reportWebVitals.js":"1","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\App.js":"2","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\index.js":"3","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\Coin\\Coin.jsx":"4","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\AccountBalance\\AccountBalance.jsx":"5","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\CoinList\\CoinList.jsx":"6","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\ExchangeHeader\\ExchangeHeader.jsx":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":2723,"mtime":1607343853693,"results":"10","hashOfConfig":"9"},{"size":500,"mtime":499162500000,"results":"11","hashOfConfig":"9"},{"size":1213,"mtime":1607344154224,"results":"12","hashOfConfig":"9"},{"size":1597,"mtime":1607351042705,"results":"13","hashOfConfig":"9"},{"size":1091,"mtime":1607342291988,"results":"14","hashOfConfig":"9"},{"size":821,"mtime":1607035489105,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ybean5",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\reportWebVitals.js",[],"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\App.js",["33"],"import React, {useState, useEffect} from 'react';\nimport AccountBalance from './components/AccountBalance/AccountBalance';\nimport CoinList from './components/CoinList/CoinList';\nimport ExchangeHeader from './components/ExchangeHeader/ExchangeHeader';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootswatch/dist/flatly/bootstrap.min.css';\n\nimport '@fortawesome/fontawesome-free/js/all';\n\nconst Div = styled.div`\n  text-align: center;\n  color: #cccccc;\n  background-color: #4d4d4e;\n`;\n\nconst COIN_COUNT = 10;\nconst formatPrice = price => parseFloat(Number(price).toFixed(3))\n\nfunction App(props) {\n  const [balance, setBalance] = useState(10000);\n  const [showBalance, setShowBalance] = useState(false);\n  const [coinData, setCoinData] = useState([]);\n\n  const componentDidMount = async () => {\n    const response = await axios.get('https://api.coinpaprika.com/v1/coins');\n    const coinIds = response.data.slice(0, COIN_COUNT).map(coin => coin.id);\n    const tickerUrl = 'https://api.coinpaprika.com/v1/tickers/';\n    const promises = coinIds.map(id => axios.get(tickerUrl + id)); \n    const coinData = await Promise.all(promises);\n    const coinPriceData = coinData.map(function(response) {\n      const coin = response.data;\n      return {\n        key: coin.id,\n        name: coin.name,\n        ticker: coin.symbol,\n        balance: 0,\n        price: formatPrice(coin.quotes['USD'].price),\n      };\n    });\n    setCoinData(coinPriceData);\n  }\n\n  useEffect(function() {\n    if (coinData.length === 0 ) {\n      //returns a promise\n      componentDidMount();\n    }\n  });\n\n\n  \n\n\n  const handleBalanceVisibilityChange = () => {\n    setShowBalance(oldValue => !oldValue);\n  }\n\n  const handleRefresh = async (valueChangeId) => {\n    const tickerUrl = `https://api.coinpaprika.com/v1/tickers/${valueChangeId}`;\n    const response = await axios.get(tickerUrl);\n    const newPrice = formatPrice(response.data.quotes.USD.price);\n    const newCoinData = coinData.map( function( values ) {\n      let newValues = { ...values };\n      if ( valueChangeId === values.key ) {\n        newValues.price = newPrice;\n      }\n      return newValues;\n    });\n\n    setCoinData(newCoinData);\n  }\n    return (\n      <Div className=\"App\">\n        <ExchangeHeader />\n        < AccountBalance \n            amount = { balance } \n            showBalance = { showBalance } \n            handleBalanceVisibilityChange = {handleBalanceVisibilityChange }\n        />\n        < CoinList \n            coinData = { coinData } \n            showBalance = { showBalance }\n            handleRefresh = { handleRefresh } \n        />\n      </Div>\n      \n    );\n  \n  \n}\n\nexport default App;\n","C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\index.js",[],["34","35"],"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\Coin\\Coin.jsx",[],"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\AccountBalance\\AccountBalance.jsx",[],"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\CoinList\\CoinList.jsx",[],"C:\\Users\\Ivo\\Documents\\repos\\reactCourse\\coin-exchange\\src\\components\\ExchangeHeader\\ExchangeHeader.jsx",[],["36","37"],{"ruleId":"38","severity":1,"message":"39","line":23,"column":19,"nodeType":"40","messageId":"41","endLine":23,"endColumn":29},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"42","replacedBy":"46"},{"ruleId":"44","replacedBy":"47"},"no-unused-vars","'setBalance' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["48"],"no-negated-in-lhs",["49"],["48"],["49"],"no-global-assign","no-unsafe-negation"]